{% extends "./base.html.twig" %}

{% block body %}
	<fb:login-button class="mt-16" scope="public_profile,email" onlogin="checkLoginState();"></fb:login-button>
	<!-- Set the element id for the JSON response -->
	<p id="profile"></p>

	<script>

		<!-- Add the Facebook SDK for Javascript -->

		(function(d, s, id){
							var js, fjs = d.getElementsByTagName(s)[0];
							if (d.getElementById(id)) {return;}
							js = d.createElement(s); js.id = id;
							js.src = "https://connect.facebook.net/en_US/sdk.js";
							fjs.parentNode.insertBefore(js, fjs);
						}(document, 'script', 'facebook-jssdk')
						);
				
						window.fbAsyncInit = function() {
		<!-- Initialize the SDK with your app and the Graph API version for your app -->
		FB.init({
							appId            : '911471007323518',
							xfbml            : true,
							version          : 'v18.0'
						});
		<!-- If you are logged in, automatically get your name and email adress, your public profile information -->
		FB.login(function(response) {
							if (response.authResponse) {
								console.log('Welcome!  Fetching your information.... ');
								FB.api('/me', {fields: 'name, email'}, function(response) {
									document.getElementById("profile").innerHTML = "Good to see you, " + response.name + ". i see your email address is " + response.email
								});
							} else {
		<!-- If you are not logged in, the login dialog will open for you to login asking for permission to get your public profile and email -->
		console.log('User cancelled login or did not fully authorize.'); }
							});
						};
	</script>

	<div class="w-4/5 m-auto mt-16 mb-4 flex">
		<div class="flex-initial mr-4">
			<img src="{{ asset('images/green-small.png') }}" alt="" class="shadow-xl rounded-md" width="250"/>
		</div>
		<div class="flex-initial mr-4">
			<img src="{{ asset('images/green-small.png') }}" alt="" class="shadow-xl rounded-md" width="250"/>
		</div>
		<div class="flex-initial mr-4">
			<img src="{{ asset('images/green-small.png') }}" alt="" class="shadow-xl rounded-md" width="250"/>
		</div>
		<div class="flex-initial mr-4">
			<img src="{{ asset('images/green-small.png') }}" alt="" class="shadow-xl rounded-md" width="250"/>
		</div>
	</div>

	{# total items count #}


	<div class="md:grid lg:grid-cols-3 w-4/5 mx-auto py-15 ">
		{% for ad in pagination %}
			<div
				class="px-2 py-4 border-t border-gray-200 bg-slate-{% if loop.index is even %}50{% else %}100{% endif %}">
				{# ad.imagePath #}
				<span class="text-gray-500">
					By
					<span class="italic text-sm text-gray-800">Code With Dary |
						{{ad.getCreatedTimestamp() | date('Y-m-d H:i:s')}}
					</span>

					<p class="text-base text-gray-700 leading-6 font-light">
						{{ ad.content }}
					</p>
				</div>
			{% endfor %}
		</div>


		{# display navigation #}
		<div id="paginator" class="w-4/5 mx-auto my-6 flex">
			{{ knp_pagination_render(pagination) }}

			<div class="ml-4">
				Нийт зар ({{ pagination.getTotalItemCount }})
			</div>
		</div>


	{% endblock %}
